<div>

	<p>
		This search interface uses <i>Solr</i> as backend, therefore it accepts everything that <i>Solr</i> does as search queries.</br >
	</p>

		In these instructions two terms will be used frequently:
<li>
hit - A single instance of a passage being repeated in the dataset. A single hit will be a passage from page of a issue in the dataset. A single page may contain mulitple hits, though they're generally part of different clusters.
</li>
<li>
cluster - A group of hits that all share the same (or similar enough) passage.
</li>

<br />
To search for a word, you can type word into the search bar and the search engine will find hits with that word in its passage. 
<br />
When doing simple searches for a single word you can use the word alone, but you can also specify a field <i>(which is also necessary for some more advanced searches)</i>. 
<br />
E.g. typing <i>text:word</i> into the search field will find hits that contain the word <i>word</i> in the field <i>text</i>. 
<br />

<br />
The available fields depend on whether you're searching for hits or clusters. To search for clusters, you must specify it from the <i>advanced search</i>.
<br />
Below is list of all available fields for searching, followed by examples that show how some different search terms can be combined for more advanced queries.
<br />
<br />
<b>Available fields when searching for hits:</b>
<br />
<b>cluster_id</b> - Specifies this hit's cluster.
<br />
	<b>country</b> - Country of the issue.
<br />
	<b>date</b> - Full date of the issue.
<br />
	<b>doc_id</b> - The exact ID of the page. 
<br />
	<b>length</b> - The length of the hit.
<br />
	<b>location</b> - The city of the issue.
<br />
	<b>text</b> - The text of the hit.
<br />
	<b>title</b> - The title of the issue.
<br />
	<b>year</b> - Year of the issue.
<br />

<br />
	
<b>Available fields when searching for clusters:</b>
<br />
	<b>all_countries</b> - All countries the cluster spread to.
<br />
	<b>all_locations</b>- All cities the cluster spread to.
<br />
	<b>average_length</b> - The average length of all hits in the cluster.
<br />
	<b>cluster_id</b> - The ID of the cluster.
<br />
	<b>count</b> - The count of unique hits in the cluster.
<br />
	<b>crossed</b> - true / false. True: if the cluster spanned across two or more countries.
<br />
	<b>ending_country</b>  - The country of the last hit in the cluster.
<br />
	<b>ending_date</b>  - The date of the last hit in the cluster.
<br />
	<b>ending_location</b>  - The city of the last hit in the cluster.
<br />
	<b>first_text</b>  - The text of the first hit in the cluster.
<br />
	<b>gap</b> - The biggest gap in the cluster, i.e. the maximum difference in publishing date of two subsequent hits.
<br />
	<b>locations</b> - The amount of different unique locations in the cluster.
<br />
	<b>starting_country</b>  - The country of the first hit in the cluster.
<br />
	<b>starting_date</b>  - The date of the first hit in the cluster.
<br />
	<b>starting_location</b>  - The city of the first hit in the cluster.
<br />
	<b>starting_year</b>  - The year of the first hit in the cluster.
<br />
	<b>in_city</b>  -  The incoming city of this cluster.
<br />
	<b>in_country</b>  - The incoming country of this cluster.
<br />
	<b>in_date</b>  - Upcoming.
<br />
	<b>out_city</b>  - The port city of this cluster.
<br />
	<b>out_country</b>  - The port country of this cluster.
<br />
	<b>out_date</b>  - Upcoming.
<br />
	<b>timespan</b> - The amount of days between the first and last hit in the cluster.
<br />
	<b>titles</b> - The amount of different unique titles in the cluster.
<br />
	<b>virality_score</b>  - The virality score of the cluster.
<br />
	
<br />

<br />
<h5><b>Term instructions:</b></h5>

<br />
This engine uses Solr's default query parser, lucene.
<br />
Below are some of the most common terms that can be used.
<br />
More info can be found on Solr's documentation <a href="https://solr.apache.org/guide/6_6/the-standard-query-parser.html">here.</a>
<br />
<br />

<h5>Boolean</h5>
<i>+text:word</i> -- the word 'word' must appear in the <i>text</i> field of the hit.
<br />
<i>-text:word</i> -- the word 'word' must not appear in the <i>text</i> field of the hit.
<br />
<br />
These two can also be combined:
<br />

<i>+text:word -text:cat</i> - The word <i>word</i> must appear in the <i>text</i> field and the world <i>cat</i> must not.
<br />

<br />
<h5> Phrase search </h5>
Different solr terms are separated using whitespace, so if you want to search for a multi word phrase, you must wrap it in quotation marks:
<br />
<i>text:"this is a word"</i> - <i>"This is a word"</i> must appear in the passage.
<br />

<br />
<h5>Fuzzy matching</h5>
Solr can perform fuzzy matching, where words that are very similar to the query word are accepted.
<br />
<i>text:dog~</i> - Words that are similar to dog are accepted. E.g. dag.
<br />
This can be useful to find hits in the database, as sometimes the OCR process may have degraded the quality so that exact matches arent sufficient anymore.
<br />
<br />

<h5>Range queries:</h5>
<i>count:[50 TO *]</i> - Shows clusters that have more than 50 hits. <br />
<i>locations:[4 TO 5]</i> - Shows clusters that have spread to 4 or 5 different unique locations. 
<br />
<br />
<h5> Wildcards:</h5>
<i>word*</i> - Search for words that start with <i>word</i> and then any possible endings.
<br />
<i>word?</i> - Search for word <i>word</i> where there is one extra character at the end.
<br />
<br />
<b> Real examples queries: </b>
</div>
